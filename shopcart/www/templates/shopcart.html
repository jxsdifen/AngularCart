<ion-view view-title="购物车">
  <ion-content class="bg-grey">

    <div class="shopcart-none padding bg-white" ng-hide="isSelectHave">
      <i class="icon"></i>
      <p class="prompt txt-center">您的购物车内还没有商品！</p>
      <div class="row">
        <div class="col">
          <div class="button button-block no-margin btn-mod">
            个人中心
          </div>
        </div>
        <div class="col">
          <div class="button button-block no-margin btn-mod">
            立即逛逛
          </div>
        </div>
      </div>
    </div>

    <div class="shopcart-have" ng-show="isSelectHave">
    	<div class="tool-bar padding-left padding-right clearfix">
    		<div class="address pull-left">
    			<button class="address-btn"><i class="ion-location icon"></i><em>深圳市南山区</em></button>
    		</div>
    		<div class="select">
				<select class="selecttype" ng-model="selecttype" ng-change="changeType(selecttype)" ng-disabled="isEdit">
			      <option value="">全部商品</option>
			      <option value="{{t.type}}" ng-repeat="t in types">{{t.type}}</option>
			    </select>
    		</div>
    		<div class="handle pull-right">
    			<button class="btn" ng-show="!isEdit" ng-click="openEdit()">编辑</button>
    			<button class="btn" ng-show="isEdit" ng-click="closeEdit()">完成</button>
    			<button class="btn">分享</button>
    		</div>
    	</div>
		
		<!-- 正常页 -->
		<!-- <ion-checkbox class='check-btn' ng-hide="isEdit" ng-model="selectAllState" ng-change="selectAllEvent()">JD 京东自营</ion-checkbox>
		<ion-checkbox class='check-btn' ng-show="isEdit" ng-model="selectAllState_Del" ng-change="selectAllEvent_Del()">JD 京东自营2</ion-checkbox> -->
    	<div class="shopcart-list">
    		<div class="item" ng-show="!isEdit" ng-repeat="item in selectItems | filter : {typename: selecttype}">
    			<div class="title">
    				<span class="tag">加价购</span> 已购满19.00元，可用优惠价换购商品一件
    			</div>
    			<div class="body clearfix">
    				<div class="body-choose pull-left">
    				<ion-checkbox class='check-btn onecheck' ng-model="item.selected" ng-change="selectState()"></ion-checkbox>
    				</div>
    				<div class="body-desc padding-top padding-right padding-bottom">
    					<div class="cover-img">
				        	<img ng-src="{{item.pic}}" alt="">
				        </div>
				        <div class="body-desc-con">
					        <p class="name">{{item.name}}</p>
					        <div class="color"><span>规格：{{item.color}}</span></div>
					        <div class="price">
				      			¥ <em>{{item.price}}</em>.00
				      		</div>
							<div class="nums">
								<div class="num-wrap">
									<button class="btn minus" ng-click="minus(item)"><i class='ion-minus-round'></i></button><span class="value">
								    	<input class="bugNum" type="num" ng-keyup="verify(item)" ng-model="item.bugNum"/>
								    </span><button class="btn plus" ng-click="plus(item)"><i class="ion-plus-round"></i></button>
								</div>
							</div>

				      	</div>
    				</div>
    			</div>
    			<div class="kind padding-bottom">
    				<div class="kind-con">
    					<p><em>促销</em>满19.00加39.00可换购商品</p>
    				</div>
    			</div>
    		</div>
			
			<div class="item" ng-show="isEdit" ng-repeat="item in selectItems | filter : {typename: selecttype}">
    			<div class="title">
    				<span class="tag">加价购</span> 已购满19.00元，可用优惠价换购商品一件
    			</div>
    			<div class="body clearfix">
    				<div class="body-choose pull-left">
    				<ion-checkbox class='check-btn onecheck' ng-model="item.isDel" ng-change="selectState_Del()"></ion-checkbox>
    				</div>
    				<div class="body-desc padding-top padding-right padding-bottom">
    					<div class="cover-img">
				        	<img ng-src="{{item.pic}}" alt="">
				        </div>
				        <div class="body-desc-con">
					        <p class="name">{{item.name}}</p>
					        <div class="color"><span>规格：{{item.color}}</span></div>
					        <div class="price">
				      			¥ <em>{{item.price}}</em>.00
				      		</div>
							<div class="nums">
								<div class="num-wrap">
									<button class="btn minus" ng-click="minus(item)"><i class='ion-minus-round'></i></button><span class="value">
								    	<input class="bugNum" type="num" ng-keyup="verify(item)" ng-model="item.bugNum"/>
								    </span><button class="btn plus" ng-click="plus(item)"><i class="ion-plus-round"></i></button>
								</div>
							</div>

				      	</div>
    				</div>
    			</div>
    			<div class="kind padding-bottom">
    				<div class="kind-con">
    					<p><em>促销</em>满19.00加39.00可换购商品</p>
    				</div>
    			</div>
    		</div>
			
			<div class="search-no" ng-hide="isGoodsLen()">
				<i class="ion-search icon"></i>
				<p>暂无匹配的商品<br>换其他筛选类型试试吧~~</p>
			</div>
    	</div>

    </div>
	
	<!-- 商品列表 -->
	<div class="mod-recommend">
	    <h3 class="title">
	    	<span><i class='ion-android-bulb icon-may'></i>你可能还想要</span>
	    </h3>
	    <ion-list class="list-goods clearfix">
	      <ion-item class="item" ng-repeat="item in items">
	        <!-- Hello,{{item}} -->
	        <div class="item-con">
		        <div class="cover-img">
		        	<img ng-src="{{item.pic}}" alt="">
		        </div>
		        <p class="name">
		        	{{item.name}}
		        </p>
		      	<div class="padding other clearfix">
		      		<div class="price pull-left">
		      			¥ <em>{{item.price}}</em>.00
		      		</div>
		      		<div class="pull-right">
		      			<i class="ion-ios-cart icon-cart" ng-click="openGoods({{item.id}})"></i>
		      		</div>
		      	</div>
	      	</div>
	      </ion-item>
	    </ion-list>
	</div>

  </ion-content>

  	<!-- 结算栏 -->
	<div class="shopcart-result" ng-show="isSelectHave">
    	<div class="settlement" ng-hide="isEdit">
    		<div class="check-all pull-left">
    			<ion-checkbox class='check-btn onecheck' ng-model="selectAllState" ng-change="selectAllEvent()"></ion-checkbox>
    			<span>全选</span>
    		</div>
    		<button class="btn-count pull-right" ng-class="{'disabled':!isCount}" ng-disabled="!isCount" ng-click="countGoods()">去结算<em>({{total.num}}件)</em></button>
    		<div class="total pull-right">
    			<h4 class="value">总计：<span class="num">¥ <em>{{total.money| number : 2}}</em></span></h4>
    			<h6 class="tag">(不含运费，已优惠¥0.00)</h6>
    		</div>
    	</div>
    	<div class="delbar" ng-show="isEdit">
    		<div class="check-all pull-left">
    			<ion-checkbox class='check-btn onecheck' ng-model="selectAllState_Del" ng-change="selectAllEvent_Del()"></ion-checkbox>
    			<span>全选</span>
    		</div>
    		<div class="btnlist pull-right">
    			<button class="btn collect">移至收藏</button>
    			<button class="btn del" ng-click="del()">删除</button>
    		</div>
    	</div>
    </div>
	
	<!-- 商品详情框 -->
  	<div class="goods-detail" ng-show="isShowGoodsDetail">
		<div class="goods-con">
			<div class="desc padding-left padding-right">
				<div class="header">
					<div class="goods-img">
						<img ng-src="{{selectGoods.pic}}"/>
					</div>
					<div class="goods-body">
						<h6 class="goods-price">¥ <em>{{selectGoods.price}}</em>.00</h6>
						<h6 class="goods-select"><span>已选 </span>{{selectGoods.color}} {{selectGoods.bugNum}}个</h6>
					</div>
					<span class="ion-close-circled goods-close" ng-click="closeGoods()"></span>
				</div>
				<div class="colors padding-top">
					<p class="title">颜色</p>
					<ul class="choose clearfix">
						<li ng-class="{'on':chooseState('{{color}}')}" ng-repeat="color in oneGoodsColors" ng-click="chooseColor('{{color}}')"><span>{{color}}</span></li>
					</ul>
				</div>
				<div class="nums">
					<span class="title">数量</span>
					<div class="num-wrap pull-right">
						<button class="btn minus" ng-click="minusNum()"><i class='ion-minus-round'></i></button><span class="value">
					    	<input class="bugNum" type="num" ng-keyup="verifyNum()" ng-model="selectGoods.bugNum"/>
					    </span><button class="btn plus" ng-click="plusNum()"><i class="ion-plus-round"></i></button>
					</div>
				</div>
			</div>
			<button class="button button-full button-assertive no-margin btn-addCart" ng-click="joinCart()">
			  加入购物车
			</button>
		</div>
	</div>
</ion-view>
